{% extends "base.html" %}

{% macro typeKeyword(display_name, value) -%}
    <p>
        <strong>{{ display_name }}</strong>: {{ value }}
    </p>
{%- endmacro %}

{% block content %}
<h2><strong>{{ data_object.title }}</strong></h2>

<hr>
<p class="lead text-muted">{{ data_object.description }}</p>
<br/>

<dl class="row">
    {% for property, details in data_object.properties.items() %}
    <dt class="col-sm-3">
        <h5 class="font-monospace">{{ property }}</h5>
    </dt>
    <dd class="col-sm-9">
        <p>
            <code>{{ details.type }}</code>
            {% if property in data_object.required %}
            <span class="badge bg-secondary mx-2">required</span>
            {% endif %}
        </p>
        <p>{{ details.description }}</p>

        <!-- Type-Specific Keywords-->
        {% if details.type == "string" %}
        
            {% if details.minLength %}
                {{ typeKeyword("Min Length", details.minLength) }}
            {% endif %}

            {% if details.maxLength %}
                {{ typeKeyword("Max Length", details.maxLength )}}
            {% endif %}

            {% if details.pattern %}
                {{ typeKeyword("RegEx Pattern", details.pattern )}}
            {% endif %}

            {% if details.format %}
                {{ typeKeyword("Format", details.format )}}
            {% endif %}

        {% endif %}
        
    </dd>
    {% endfor %}
</dl>

{% endblock %}
